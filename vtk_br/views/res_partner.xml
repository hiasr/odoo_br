<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<record id="res_partner_view_form" model="ir.ui.view">
		<field name="name">res.partner.view.form.vtk</field>
		<field name="model">res.partner</field>
		<field name="inherit_id" ref="base.view_partner_form" />
		<field name="arch" type="xml">

			<xpath expr="//field[@name='category_id']" position="after">
				<field name="spendings"/>
			</xpath>

			<xpath expr="//field[@name='vat']" position="after">
				<field name="main_contact" attrs="{'invisible': [('is_company', '=', True)]}"/>
			</xpath>

			<!-- Field in kanban blocks in child_ids -->
			<xpath expr="//field[@name='child_ids']/kanban/templates//div[@class='oe_kanban_details']//field[@name='name']" position="after">
				<field name="main_contact" invisible="1"/>
				<br/><b attrs="{'invisible': [('main_contact', '=', False)]}">Main contact</b>
			</xpath>

			<!-- Field in popup when clicking on child_id in parent company-->
			<xpath expr="//field[@name='child_ids']/form//field[@name='name']" position="after">
				<field name="main_contact"/>
			</xpath>

		</field>
	</record>
</odoo>
